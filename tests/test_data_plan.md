# 测试数据放置与用例计划

本文件说明在 `tests/data/` 目录中放什么数据，以支撑现有和拟新增的单元测试，并控制数据体积用于快速回归。

## 目录结构（建议）
- `tests/data/2025-01-01/`
  - `娉㈠舰_閲嶉噰鏍?/`        加速度（处理后）
  - `娉㈠舰/`                  加速度原始波形（频谱/高频）
  - `鐗瑰緛鍊糭閲嶉噰鏍?/`    挠度
  - `鐗瑰緛鍊?/`               应变/裂缝/温湿度等共用
- `tests/data/2025-01-02/`（可选，再给一天覆盖跨日排序逻辑）

> 如需其他日期，可按需新增 1–2 天；保持体积小以保证测试快速。

## 文件命名模式
- 挠度/应变/加速度等：`{point}_*.csv`
- 裂缝温度：`{point}-t_*.csv`
与 `config/default_config.json` 中的 `file_patterns` 保持一致。

## 内容与大小建议
- 行数：50–200 行/文件；加速度原始波形 200–1000 行（20–50 Hz，10–20 秒）。
- 时间格式：`yyyy-MM-dd HH:mm:ss.SSS`；表头行需包含 header_marker `[缁濆鏃堕棿]`。
- 数值：以正常范围为主，穿插少量超限和 0 值，便于触发阈值/zero_to_nan/outlier 逻辑。

## 数据清单建议（示例）
- 挠度：`GB-DIS-G05-001-01Y_001.csv`，两日各 1 文件。
- 加速度：`GB-VIB-G05-001-01_001.csv`（处理后）+ 同名原始波形置于 `娉㈠舰/`，含 1.15 Hz 正弦叠噪声。
- 应变：`GB-RSG-G05-001-01_001.csv`。
- 倾角：`GB-DIS-P05-001-01-Y_001.csv`。
- 裂缝 + 温度：`GB-CRK-G05-001-01_001.csv` 与 `GB-CRK-G05-001-01-t_001.csv`。
- 温湿度：`GB-RTS-G05-001-01_001.csv`、`GB-RHS-G05-001-01_001.csv`。

## 覆盖的测试点（对应现有/可新增用例）
1) `test_load_timeseries_range` 扩展：多日、多文件排序；阈值/zero_to_nan/outlier 覆盖；per_point 优先级。
2) 加速度 RMS/频谱：短波形验证 RMS 计算与目标频率提取（1.15 Hz ± 容差）。
3) 挠度统计：检查 min/max/mean 与平滑后曲线输出（可在 MATLAB 里断言 Excel 内容）。
4) 裂缝+温度成对加载：验证 `-t` 温度文件匹配。
5) 温湿度时程与直方图：验证均值/极值与分布绘制。

## 使用提示
```matlab
root = fullfile(pwd,'tests','data');
[t,v,meta] = load_timeseries_range(root, '鐗瑰緛鍊糭閲嶉噰鏍?', 'GB-DIS-G05-001-01Y', '2025-01-01', '2025-01-02', cfg, 'deflection');
```

> 目录已在 `.gitignore` 排除；仅 README.md / .gitkeep 会被提交。
